<div>
    <div class="search">
        Pretraži! 
        <input data-ng-model="searchString" />
        <button ng-disabled="!searchString" data-ng-click="filteringMode = true; search(searchString)">
            <img src="~/Resources/Icon_search.ico" />
        </button>
        <button ng-show="filteringMode" data-ng-click="filteringMode = false;">Poništi pretragu</button>
    </div>
    <div class="table_div">
        <table id="contactsTable" class="table table-striped table-hover">
            <tr>
                <th>Ime</th>
                <th>Prezime</th>
                <th>Adresa</th>
                <th>E-mail</th>
                <th>Broj telefona</th>
                <th>Tagovi</th>
                <th>Detalji</th>
                <th>Uredi</th>
                <th>Obriši</th>
            </tr>
            <tr data-ng-hide="filteringMode" data-ng-repeat="contact in contacts" ng-click="invoke(contact.Id)">
                <td ng-hide="editMode">{{contact.Name}}</td>
                <td ng-show="editMode"><input class="text_box" type="text" ng-model="contact.Name"></td>
                <td ng-hide="editMode">{{contact.Surname}}</td>
                <td ng-show="editMode"><input class="text_box" type="text" ng-model="contact.Surname"></td>
                <td ng-hide="editMode">{{contact.Address}}</td>
                <td ng-show="editMode"><input class="text_box" type="text" ng-model="contact.Address"></td>
                <td ng-hide="editMode">{{contact.Email}}</td>
                <td ng-show="editMode"><input class="text_box" type="text" ng-model="contact.Email"></td>
                <td ng-hide="editMode">{{contact.Telephone}}</td>
                <td ng-show="editMode"><input class="text_box" type="text" ng-model="contact.Telephone"></td>
                <td ng-hide="editMode">{{contact.Tags}}</td>
                <td ng-show="editMode"><input class="text_box" type="text" ng-model="contact.Tags"></td>
                <td ng-hide="editMode">
                    <button ng-click="getDetails(contact)">
                        <img src="~/Resources/Icon_info.ico" />
                    </button>
                </td>
                <td ng-hide="editMode">
                    <button data-ng-click="editMode = true">
                        <img src="~/Resources/Icon_edit.ico" />
                    </button>
                </td>
                <td ng-hide="editMode">
                    <button data-ng-click="deleteContact(contact.Id)">
                        <img src="~/Resources/Icon_delete.ico" />
                    </button>
                </td>
                <td ng-show="editMode">
                    <button data-ng-click="editMode = false; updateContact(contact)">
                        <img src="~/Resources/Icon_save.ico" />
                    </button>
                </td>
            </tr>
            <tr data-ng-show="filteringMode" data-ng-repeat="contact in filteredContacts">
                <td ng-hide="editMode">{{contact.Name}}</td>
                <td ng-show="editMode"><input class="text_box" type="text" ng-model="contact.Name"></td>
                <td ng-hide="editMode">{{contact.Surname}}</td>
                <td ng-show="editMode"><input class="text_box" type="text" ng-model="contact.Surname"></td>
                <td ng-hide="editMode">{{contact.Address}}</td>
                <td ng-show="editMode"><input class="text_box" type="text" ng-model="contact.Address"></td>
                <td ng-hide="editMode">{{contact.Email}}</td>
                <td ng-show="editMode"><input class="text_box" type="text" ng-model="contact.Email"></td>
                <td ng-hide="editMode">{{contact.Telephone}}</td>
                <td ng-show="editMode"><input class="text_box" type="text" ng-model="contact.Telephone"></td>
                <td ng-hide="editMode">{{contact.Tags}}</td>
                <td ng-show="editMode"><input class="text_box" type="text" ng-model="contact.Tags"></td>
                <td  ng-hide="editMode">
                    <button ng-click="getDetails(contact)">
                        <img src="~/Resources/Icon_info.ico" />
                    </button>
                </td>
                <td ng-hide="editMode">
                    <button data-ng-click="editMode = true">
                        <img src="~/Resources/Icon_edit.ico" />
                    </button>
                </td>
                <td ng-hide="editMode">
                    <button data-ng-click="deleteContact(contact.Id)">
                        <img src="~/Resources/Icon_delete.ico" />
                    </button>
                </td>
                <td>
                    <button ng-show="editMode" data-ng-click="editMode = false; updateContact(contact)">
                        <img src="~/Resources/Icon_save.ico" />
                    </button>
                </td>
            </tr>
            <tr>
                <td colspan="9" class="add_tr">
                    <button ng-hide="addMode" ng-click="addMode = true">
                        <img src="~/Resources/Icon_add.ico" />  Dodaj novi kontakt
                    </button>
                </td>
            </tr>
            <tr ng-show="addMode">
                <td><input class="text_box" type="text" ng-model="newContact.Name" /></td>
                <td><input class="text_box" type="text" ng-model="newContact.SurName" /></td>
                <td><input class="text_box" type="text" ng-model="newContact.Address" /></td>
                <td><input class="text_box" type="text" ng-model="newContact.Email" /></td>
                <td><input class="text_box" type="text" ng-model="newContact.Telephone" /></td>
                <td><input class="text_box" type="text" ng-model="newContact.Tags" /></td>
                <td>
                    <button ng-click="addMode = false; addContact(newContact)">
                        <img src="~/Resources/Icon_save.ico" />
                    </button>
                </td>
            </tr>
        </table>
    </div>
</div>